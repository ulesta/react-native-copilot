{"version":3,"sources":["../src/components/style.ts","../src/components/SvgMask.tsx","../src/components/ViewMask.tsx","../src/index.ts","../src/components/default-ui/StepNumber.tsx","../src/contexts/CopilotProvider.tsx","../src/components/CopilotModal.tsx","../src/components/default-ui/Tooltip.tsx","../src/components/default-ui/Button.tsx","../src/hooks/useStateWithAwait.ts","../src/hooks/useStepsMap.ts","../src/hocs/walkthroughable.tsx","../src/components/CopilotStep.tsx"],"sourcesContent":["import { StyleSheet } from \"react-native\";\n\nexport const STEP_NUMBER_RADIUS: number = 14;\nexport const STEP_NUMBER_DIAMETER: number = STEP_NUMBER_RADIUS * 2;\nexport const ZINDEX: number = 100;\nexport const MARGIN: number = 13;\nexport const OFFSET_WIDTH: number = 4;\nexport const ARROW_SIZE: number = 6;\n\nexport const styles = StyleSheet.create({\n  container: {\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: ZINDEX,\n  },\n  arrow: {\n    position: \"absolute\",\n    borderColor: \"transparent\",\n    borderWidth: ARROW_SIZE,\n  },\n  tooltip: {\n    position: \"absolute\",\n    paddingTop: 15,\n    paddingHorizontal: 15,\n    backgroundColor: \"#fff\",\n    borderRadius: 3,\n    overflow: \"hidden\",\n  },\n  tooltipText: {},\n  tooltipContainer: {\n    flex: 1,\n  },\n  stepNumberContainer: {\n    position: \"absolute\",\n    width: STEP_NUMBER_DIAMETER,\n    height: STEP_NUMBER_DIAMETER,\n    overflow: \"hidden\",\n    zIndex: ZINDEX + 1,\n  },\n  stepNumber: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderWidth: 2,\n    borderRadius: STEP_NUMBER_RADIUS,\n    borderColor: \"#FFFFFF\",\n    backgroundColor: \"#27ae60\",\n  },\n  stepNumberText: {\n    fontSize: 10,\n    backgroundColor: \"transparent\",\n    color: \"#FFFFFF\",\n  },\n  button: {\n    padding: 10,\n  },\n  buttonText: {\n    color: \"#27ae60\",\n  },\n  bottomBar: {\n    marginTop: 10,\n    flexDirection: \"row\",\n    justifyContent: \"flex-end\",\n  },\n  overlayRectangle: {\n    position: \"absolute\",\n    backgroundColor: \"rgba(0,0,0,0.2)\",\n    left: 0,\n    top: 0,\n    bottom: 0,\n    right: 0,\n  },\n  overlayContainer: {\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    bottom: 0,\n    right: 0,\n  },\n  overlayContainerFlexCenter: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }\n});\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport {\n  Animated,\n  Dimensions,\n  Easing,\n  View,\n  type LayoutChangeEvent,\n} from \"react-native\";\nimport Svg, { Path } from \"react-native-svg\";\n\nimport type { MaskProps, SvgMaskPathFunction, ValueXY } from \"../types\";\n\nconst AnimatedSvgPath = Animated.createAnimatedComponent(Path);\nconst windowDimensions = Dimensions.get(\"window\");\n\nconst defaultSvgPath: SvgMaskPathFunction = ({\n  size,\n  position,\n  canvasSize,\n}): string => {\n  const positionX = (position.x as any)._value as number;\n  const positionY = (position.y as any)._value as number;\n  const sizeX = (size.x as any)._value as number;\n  const sizeY = (size.y as any)._value as number;\n\n  return `M0,0H${canvasSize.x}V${canvasSize.y}H0V0ZM${positionX},${positionY}H${\n    positionX + sizeX\n  }V${positionY + sizeY}H${positionX}V${positionY}Z`;\n};\n\nexport const SvgMask = ({\n  size,\n  position,\n  style,\n  easing = Easing.linear,\n  animationDuration = 300,\n  animated,\n  backdropColor,\n  svgMaskPath = defaultSvgPath,\n  onClick,\n  currentStep,\n}: MaskProps) => {\n  const [canvasSize, setCanvasSize] = useState<ValueXY>({\n    x: windowDimensions.width,\n    y: windowDimensions.height,\n  });\n  const sizeValue = useRef<Animated.ValueXY>(\n    new Animated.ValueXY(size)\n  ).current;\n  const positionValue = useRef<Animated.ValueXY>(\n    new Animated.ValueXY(position)\n  ).current;\n  const maskRef = useRef<any>(null);\n\n  const animationListener = useCallback(() => {\n    const d: string = svgMaskPath({\n      size: sizeValue,\n      position: positionValue,\n      canvasSize,\n      step: currentStep,\n    });\n\n    if (maskRef.current) {\n      maskRef.current.setNativeProps({ d });\n    }\n  }, [canvasSize, currentStep, svgMaskPath, positionValue, sizeValue]);\n\n  const animate = useCallback(\n    (toSize: ValueXY = size, toPosition: ValueXY = position) => {\n      if (animated) {\n        Animated.parallel([\n          Animated.timing(sizeValue, {\n            toValue: toSize,\n            duration: animationDuration,\n            easing,\n            useNativeDriver: false,\n          }),\n          Animated.timing(positionValue, {\n            toValue: toPosition,\n            duration: animationDuration,\n            easing,\n            useNativeDriver: false,\n          }),\n        ]).start();\n      } else {\n        sizeValue.setValue(toSize);\n        positionValue.setValue(toPosition);\n      }\n    },\n    [\n      animated,\n      animationDuration,\n      easing,\n      positionValue,\n      position,\n      size,\n      sizeValue,\n    ]\n  );\n\n  useEffect(() => {\n    const id = positionValue.addListener(animationListener);\n    return () => {\n      positionValue.removeListener(id);\n    };\n  }, [animationListener, positionValue]);\n\n  useEffect(() => {\n    if (size && position) {\n      animate(size, position);\n    }\n  }, [animate, position, size]);\n\n  const handleLayout = ({\n    nativeEvent: {\n      layout: { width, height },\n    },\n  }: LayoutChangeEvent) => {\n    setCanvasSize({\n      x: width,\n      y: height,\n    });\n  };\n\n  return (\n    <View\n      style={style}\n      onLayout={handleLayout}\n      onStartShouldSetResponder={onClick}\n    >\n      {canvasSize ? (\n        <Svg pointerEvents=\"none\" width={canvasSize.x} height={canvasSize.y}>\n          <AnimatedSvgPath\n            ref={maskRef}\n            fill={backdropColor}\n            fillRule=\"evenodd\"\n            strokeWidth={1}\n            d={svgMaskPath({\n              size: sizeValue,\n              position: positionValue,\n              canvasSize,\n              step: currentStep,\n            })}\n          />\n        </Svg>\n      ) : null}\n    </View>\n  );\n};\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\n\nimport { Animated, View } from \"react-native\";\nimport { styles } from \"./style\";\n\nimport type { MaskProps, ValueXY } from \"../types\";\n\nexport const ViewMask = (props: MaskProps) => {\n  const sizeValue = useRef<Animated.ValueXY>(\n    new Animated.ValueXY(props.size)\n  ).current;\n  const positionValue = useRef<Animated.ValueXY>(\n    new Animated.ValueXY(props.position)\n  ).current;\n  const [animated, setAnimated] = useState(false);\n\n  const animate = useCallback(\n    (size: ValueXY = props.size, position: ValueXY = props.position): void => {\n      if (animated) {\n        Animated.parallel([\n          Animated.timing(sizeValue, {\n            toValue: size,\n            duration: props.animationDuration,\n            easing: props.easing,\n            useNativeDriver: false,\n          }),\n          Animated.timing(positionValue, {\n            toValue: position,\n            duration: props.animationDuration,\n            easing: props.easing,\n            useNativeDriver: false,\n          }),\n        ]).start();\n      } else {\n        sizeValue.setValue(size);\n        positionValue.setValue(position);\n        setAnimated(props.animated);\n      }\n    },\n    [\n      animated,\n      positionValue,\n      props.animated,\n      props.animationDuration,\n      props.easing,\n      props.position,\n      props.size,\n      sizeValue,\n    ]\n  );\n\n  useEffect(() => {\n    if (props.position || props.size) {\n      animate(props.size, props.position);\n    }\n  }, [animate, props.position, props.size]);\n\n  const width = props.layout ? props.layout.width : 500;\n  const height = props.layout ? props.layout.height : 500;\n\n  const leftOverlayRight = Animated.add(\n    width,\n    Animated.multiply(positionValue.x, -1)\n  );\n  const rightOverlayLeft = Animated.add(sizeValue.x, positionValue.x);\n  const bottomOverlayTopBoundary = Animated.add(sizeValue.y, positionValue.y);\n  const topOverlayBottomBoundary = Animated.add(\n    height,\n    Animated.multiply(-1, positionValue.y)\n  );\n  const verticalOverlayLeftBoundary = positionValue.x;\n  const verticalOverlayRightBoundary = Animated.add(\n    width,\n    Animated.multiply(-1, rightOverlayLeft)\n  );\n\n  return (\n    <View style={props.style} onStartShouldSetResponder={props.onClick}>\n      {[\n        {\n          right: leftOverlayRight,\n          backgroundColor: props.backdropColor,\n        },\n        {\n          left: rightOverlayLeft,\n          backgroundColor: props.backdropColor,\n        },\n        {\n          top: bottomOverlayTopBoundary,\n          left: verticalOverlayLeftBoundary,\n          right: verticalOverlayRightBoundary,\n          backgroundColor: props.backdropColor,\n        },\n        {\n          bottom: topOverlayBottomBoundary,\n          left: verticalOverlayLeftBoundary,\n          right: verticalOverlayRightBoundary,\n          backgroundColor: props.backdropColor,\n        },\n      ].map((style, index) => (\n        <Animated.View key={index} style={[styles.overlayRectangle, style]} />\n      ))}\n    </View>\n  );\n};\n","import { StepNumber } from \"./components/default-ui/StepNumber\";\nimport { Tooltip } from \"./components/default-ui/Tooltip\";\nexport { walkthroughable } from \"./hocs/walkthroughable\";\nexport { CopilotStep } from \"./components/CopilotStep\";\nexport { CopilotProvider, useCopilot } from \"./contexts/CopilotProvider\";\nexport type { CopilotOptions as CopilotProps, TooltipProps, CustomTooltipProps } from \"./types\";\n\nexport const DefaultUI = {\n  StepNumber,\n  Tooltip,\n};\n","import React, { type FunctionComponent } from \"react\";\nimport { Text, View } from \"react-native\";\nimport { useCopilot } from \"../../contexts/CopilotProvider\";\n\nimport { styles } from \"../style\";\n\nexport const StepNumber: FunctionComponent<unknown> = () => {\n  const { currentStepNumber } = useCopilot();\n\n  return (\n    <View style={styles.stepNumber}>\n      <Text style={styles.stepNumberText}>{currentStepNumber}</Text>\n    </View>\n  );\n};\n","import mitt, { type Emitter } from \"mitt\";\nimport React, {\n  createContext,\n  useCallback,\n  useContext,\n  useMemo,\n  useRef,\n  useState,\n  type PropsWithChildren,\n} from \"react\";\nimport { findNodeHandle, type ScrollView } from \"react-native\";\nimport {\n  CopilotModal,\n  type CopilotModalHandle,\n} from \"../components/CopilotModal\";\nimport { OFFSET_WIDTH } from \"../components/style\";\nimport { useStateWithAwait } from \"../hooks/useStateWithAwait\";\nimport { useStepsMap } from \"../hooks/useStepsMap\";\nimport { type CopilotOptions, type Step } from \"../types\";\n\n// eslint-disable-next-line @typescript-eslint/consistent-type-definitions\ntype Events = {\n  start: undefined;\n  stop: undefined;\n  stepChange: Step | undefined;\n};\n\ninterface CopilotContextType {\n  registerStep: (step: Step) => void;\n  unregisterStep: (stepName: string) => void;\n  currentStep: Step | undefined;\n  start: (\n    fromStep?: string,\n    suppliedScrollView?: ScrollView | null\n  ) => Promise<void>;\n  stop: () => Promise<void>;\n  goToNext: () => Promise<void>;\n  goToNth: (n: number) => Promise<void>;\n  goToPrev: () => Promise<void>;\n  visible: boolean;\n  copilotEvents: Emitter<Events>;\n  isFirstStep: boolean;\n  isLastStep: boolean;\n  currentStepNumber: number;\n  hideSkip?: boolean;\n  hidePrevious?: boolean;\n}\n\n/*\nThis is the maximum wait time for the steps to be registered before starting the tutorial\nAt 60fps means 2 seconds\n*/\nconst MAX_START_TRIES = 120;\n\nconst CopilotContext = createContext<CopilotContextType | undefined>(undefined);\n\nexport const CopilotProvider = ({\n  verticalOffset = 0,\n  children,\n  ...rest\n}: PropsWithChildren<CopilotOptions>) => {\n  const startTries = useRef(0);\n  const copilotEvents = useRef(mitt<Events>()).current;\n  const modal = useRef<CopilotModalHandle | null>(null);\n\n  const [visible, setVisibility] = useStateWithAwait(false);\n  const [scrollView, setScrollView] = useState<ScrollView | null>(null);\n\n  const {\n    currentStep,\n    currentStepNumber,\n    getFirstStep,\n    getPrevStep,\n    getNextStep,\n    getNthStep,\n    isFirstStep,\n    isLastStep,\n    setCurrentStepState,\n    steps,\n    registerStep,\n    unregisterStep,\n  } = useStepsMap();\n\n  const moveModalToStep = useCallback(\n    async (step: Step) => {\n      const size = await step?.measure();\n\n      console.log(\"Got size!\");\n\n      if (!size) {\n        return;\n      }\n\n      await modal.current?.animateMove({\n        width: size.width + OFFSET_WIDTH,\n        height: size.height + OFFSET_WIDTH,\n        x: size.x - OFFSET_WIDTH / 2,\n        y: size.y - OFFSET_WIDTH / 2 + verticalOffset,\n      });\n    },\n    [verticalOffset]\n  );\n\n  const setCurrentStep = useCallback(\n    async (step?: Step, move: boolean = true) => {\n      setCurrentStepState(step);\n      copilotEvents.emit(\"stepChange\", step);\n\n      if (scrollView != null) {\n        const nodeHandle = findNodeHandle(scrollView);\n        if (nodeHandle) {\n          step?.wrapperRef.current?.measureLayout(\n            nodeHandle,\n            (_x, y, _w, h) => {\n              const yOffset = y > 0 ? y - h / 2 : 0;\n              console.log(`yOffset=${yOffset}`);\n              scrollView.scrollTo({ y: yOffset, animated: false });\n            }\n          );\n        }\n      }\n\n      setTimeout(\n        () => {\n          if (move && step) {\n            void moveModalToStep(step);\n          }\n        },\n        scrollView != null ? 100 : 0\n      );\n    },\n    [copilotEvents, moveModalToStep, scrollView, setCurrentStepState]\n  );\n\n  const start = useCallback(\n    async (fromStep?: string, suppliedScrollView: ScrollView | null = null) => {\n      if (scrollView == null) {\n        setScrollView(suppliedScrollView);\n      }\n\n      const currentStep = fromStep ? steps[fromStep] : getFirstStep();\n\n      if (startTries.current > MAX_START_TRIES) {\n        startTries.current = 0;\n        return;\n      }\n\n      if (currentStep == null) {\n        startTries.current += 1;\n        requestAnimationFrame(() => {\n          void start(fromStep);\n        });\n      } else {\n        copilotEvents.emit(\"start\");\n        await setCurrentStep(currentStep);\n        await moveModalToStep(currentStep);\n        console.log(\"--- setVisibility(true)!\");\n        await setVisibility(true);\n        startTries.current = 0;\n      }\n    },\n    [\n      copilotEvents,\n      getFirstStep,\n      moveModalToStep,\n      scrollView,\n      setCurrentStep,\n      setVisibility,\n      steps,\n    ]\n  );\n\n  const stop = useCallback(async () => {\n    await setVisibility(false);\n    copilotEvents.emit(\"stop\");\n  }, [copilotEvents, setVisibility]);\n\n  const next = useCallback(async () => {\n    await setCurrentStep(getNextStep());\n  }, [getNextStep, setCurrentStep]);\n\n  const nth = useCallback(\n    async (n: number) => {\n      await setCurrentStep(getNthStep(n));\n    },\n    [getNthStep, setCurrentStep]\n  );\n\n  const prev = useCallback(async () => {\n    await setCurrentStep(getPrevStep());\n  }, [getPrevStep, setCurrentStep]);\n\n  const value = useMemo(\n    () => ({\n      registerStep,\n      unregisterStep,\n      currentStep,\n      start,\n      stop,\n      visible,\n      copilotEvents,\n      goToNext: next,\n      goToNth: nth,\n      goToPrev: prev,\n      isFirstStep,\n      isLastStep,\n      currentStepNumber,\n    }),\n    [\n      registerStep,\n      unregisterStep,\n      currentStep,\n      start,\n      stop,\n      visible,\n      copilotEvents,\n      next,\n      nth,\n      prev,\n      isFirstStep,\n      isLastStep,\n      currentStepNumber,\n    ]\n  );\n\n  return (\n    <CopilotContext.Provider value={value}>\n      <>\n        <CopilotModal ref={modal} {...rest} />\n        {children}\n      </>\n    </CopilotContext.Provider>\n  );\n};\n\nexport const useCopilot = () => {\n  const value = useContext(CopilotContext);\n  if (value == null) {\n    throw new Error(\"You must wrap your app inside CopilotPorivder\");\n  }\n\n  return value;\n};\n","import React, {\n  forwardRef,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useRef,\n  useState,\n} from \"react\";\nimport {\n  Animated,\n  Easing,\n  Modal,\n  NativeModules,\n  Platform,\n  StatusBar,\n  View,\n  type LayoutChangeEvent,\n  type LayoutRectangle,\n  type ViewStyle,\n  useWindowDimensions,\n} from \"react-native\";\nimport { useCopilot } from \"../contexts/CopilotProvider\";\nimport type { CopilotOptions } from \"../types\";\nimport { StepNumber } from \"./default-ui/StepNumber\";\nimport { Tooltip } from \"./default-ui/Tooltip\";\nimport {\n  ARROW_SIZE,\n  MARGIN,\n  STEP_NUMBER_DIAMETER,\n  STEP_NUMBER_RADIUS,\n  styles,\n} from \"./style\";\n\ntype Props = CopilotOptions;\n\nconst noop = () => {};\n\nconst makeDefaultLayout = (width: number, height: number): LayoutRectangle => ({\n  x: 0,\n  y: 0,\n  width,\n  height,\n});\n\nexport interface CopilotModalHandle {\n  animateMove: (obj: LayoutRectangle) => Promise<void>;\n}\n\nexport const CopilotModal = forwardRef<CopilotModalHandle, Props>(\n  function CopilotModal(\n    {\n      easing = Easing.elastic(0.7),\n      animationDuration = 400,\n      tooltipComponent: TooltipComponent = Tooltip,\n      tooltipStyle = {},\n      stepNumberComponent: StepNumberComponent = StepNumber,\n      overlay = typeof NativeModules.RNSVGSvgViewManager !== \"undefined\"\n        ? \"svg\"\n        : \"view\",\n      animated = typeof NativeModules.RNSVGSvgViewManager !== \"undefined\",\n      androidStatusBarVisible = false,\n      backdropColor = \"rgba(0, 0, 0, 0.4)\",\n      labels = {\n        finish: \"Finish\",\n        next: \"Next\",\n        previous: \"Previous\",\n        skip: \"Skip\",\n      },\n      svgMaskPath,\n      stopOnOutsideClick = false,\n      arrowColor = \"#fff\",\n      arrowSize = ARROW_SIZE,\n      margin = MARGIN,\n      CustomTooltip,\n    },\n    ref\n  ) {\n    const { stop, currentStep, visible } = useCopilot();\n    const [tooltipStyles, setTooltipStyles] = useState({});\n    const [arrowStyles, setArrowStyles] = useState({});\n    const [animatedValues] = useState({\n      top: new Animated.Value(0),\n      stepNumberLeft: new Animated.Value(0),\n    });\n    const windowDimensions = useWindowDimensions();\n    const layoutRef = useRef(\n      makeDefaultLayout(windowDimensions.width, windowDimensions.height)\n    );\n    const [layout, setLayout] = useState<LayoutRectangle | undefined>(\n      undefined\n    );\n    const [maskRect, setMaskRect] = useState<LayoutRectangle | undefined>();\n\n    const [isAnimated, setIsAnimated] = useState(false);\n    const [containerVisible, setContainerVisible] = useState(false);\n\n    useEffect(() => {\n      if (visible) {\n        console.log(\"❤️ container is visible\");\n        setContainerVisible(true);\n      }\n    }, [visible]);\n\n    useEffect(() => {\n      if (!visible) {\n        reset();\n      }\n    }, [visible]);\n\n    const handleLayoutChange = ({\n      nativeEvent: { layout: newLayout },\n    }: LayoutChangeEvent) => {\n      layoutRef.current = newLayout;\n    };\n\n    const measure = async (): Promise<LayoutRectangle> => {\n      return await new Promise((resolve) => {\n        const updateLayout = () => {\n          if (layoutRef.current.width !== 0) {\n            resolve(layoutRef.current);\n          } else {\n            requestAnimationFrame(updateLayout);\n          }\n        };\n\n        updateLayout();\n      });\n    };\n\n    const _animateMove = useCallback(\n      async (rect: LayoutRectangle) => {\n        const newMeasuredLayout = await measure();\n\n        console.log(\"✨\");\n        console.log(newMeasuredLayout);\n\n        if (!androidStatusBarVisible && Platform.OS === \"android\") {\n          rect.y -= StatusBar.currentHeight ?? 0;\n        }\n\n        let stepNumberLeft = rect.x - STEP_NUMBER_RADIUS;\n\n        if (stepNumberLeft < 0) {\n          stepNumberLeft = rect.x + rect.width - STEP_NUMBER_RADIUS;\n          if (stepNumberLeft > newMeasuredLayout.width - STEP_NUMBER_DIAMETER) {\n            stepNumberLeft = newMeasuredLayout.width - STEP_NUMBER_DIAMETER;\n          }\n        }\n\n        const center = {\n          x: rect.x + rect.width / 2,\n          y: rect.y + rect.height / 2,\n        };\n\n        const relativeToLeft = center.x;\n        const relativeToTop = center.y;\n        const relativeToBottom = Math.abs(center.y - newMeasuredLayout.height);\n        const relativeToRight = Math.abs(center.x - newMeasuredLayout.width);\n\n        const verticalPosition =\n          relativeToBottom > relativeToTop ? \"bottom\" : \"top\";\n        const horizontalPosition =\n          relativeToLeft > relativeToRight ? \"left\" : \"right\";\n\n        const tooltip: ViewStyle = {};\n        const arrow: ViewStyle = {};\n\n        if (rect.height > 4 && rect.width > 4) {\n          if (verticalPosition === \"bottom\") {\n            tooltip.top = rect.y + rect.height + margin;\n            arrow.borderBottomColor = arrowColor;\n            arrow.top = tooltip.top - arrowSize * 2;\n          } else {\n            tooltip.bottom = newMeasuredLayout.height - (rect.y - margin);\n            arrow.borderTopColor = arrowColor;\n            arrow.bottom = tooltip.bottom - arrowSize * 2;\n          }\n\n          if (horizontalPosition === \"left\") {\n            tooltip.right = Math.max(\n              newMeasuredLayout.width - (rect.x + rect.width),\n              0\n            );\n            tooltip.right =\n              tooltip.right === 0 ? tooltip.right + margin : tooltip.right;\n            tooltip.maxWidth = newMeasuredLayout.width - tooltip.right - margin;\n            arrow.right = tooltip.right + margin;\n          } else {\n            tooltip.left = Math.max(rect.x, 0);\n            tooltip.left =\n              tooltip.left === 0 ? tooltip.left + margin : tooltip.left;\n            tooltip.maxWidth = newMeasuredLayout.width - tooltip.left - margin;\n            arrow.left = tooltip.left + margin;\n          }\n        }\n\n        sanitize(arrow);\n        sanitize(tooltip);\n        sanitize(rect);\n\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n        console.log(`tooltip.top=${tooltip.top}`);\n\n        const animate = [\n          [\"top\", rect.y],\n          [\"stepNumberLeft\", stepNumberLeft],\n        ] as const;\n\n        if (isAnimated) {\n          Animated.parallel(\n            animate.map(([key, value]) => {\n              return Animated.timing(animatedValues[key], {\n                toValue: value,\n                duration: animationDuration,\n                easing,\n                useNativeDriver: false,\n              });\n            })\n          ).start();\n        } else {\n          animate.forEach(([key, value]) => {\n            animatedValues[key].setValue(value);\n          });\n        }\n\n        setTooltipStyles(tooltip);\n        setArrowStyles(arrow);\n        setLayout(newMeasuredLayout);\n        setMaskRect({\n          width: rect.width > 4 ? rect.width : 0,\n          height: rect.height > 4 ? rect.height : 0,\n          x: Math.floor(Math.max(rect.x, 0)),\n          y: Math.floor(Math.max(rect.y, 0)),\n        });\n      },\n      [\n        androidStatusBarVisible,\n        animatedValues,\n        animationDuration,\n        arrowColor,\n        easing,\n        isAnimated,\n        arrowSize,\n        margin,\n      ]\n    );\n\n    const animateMove = useCallback<CopilotModalHandle[\"animateMove\"]>(\n      async (rect) => {\n        await new Promise<void>((resolve) => {\n          const frame = async () => {\n            await _animateMove(rect);\n            resolve();\n          };\n\n          setContainerVisible(true);\n          requestAnimationFrame(() => {\n            void frame();\n          });\n        });\n      },\n      [_animateMove]\n    );\n\n    const reset = () => {\n      setIsAnimated(false);\n      setContainerVisible(false);\n      setLayout(undefined);\n    };\n\n    const handleStop = () => {\n      reset();\n      void stop();\n    };\n\n    const handleMaskClick = () => {\n      if (stopOnOutsideClick) {\n        handleStop();\n      }\n    };\n\n    useImperativeHandle(\n      ref,\n      () => {\n        return {\n          animateMove,\n        };\n      },\n      [animateMove]\n    );\n\n    const modalVisible = containerVisible || visible;\n    const contentVisible = layout != null && containerVisible;\n\n    if (!modalVisible) {\n      return null;\n    }\n\n    const overlayContainerStyle =\n      maskRect?.height && maskRect.width\n        ? styles.container\n        : { ...styles.container, ...styles.overlayContainerFlexCenter };\n\n    console.log(overlayContainerStyle);\n\n    return (\n      <Modal\n        animationType=\"none\"\n        visible\n        onRequestClose={noop}\n        transparent\n        supportedOrientations={[\"portrait\", \"landscape\"]}\n      >\n        <View style={overlayContainerStyle} onLayout={handleLayoutChange}>\n          {contentVisible && renderMask()}\n          {contentVisible && renderTooltip()}\n        </View>\n      </Modal>\n    );\n\n    function renderMask() {\n      const MaskComponent =\n        overlay === \"svg\"\n          ? // eslint-disable-next-line @typescript-eslint/no-var-requires\n            require(\"./SvgMask\").SvgMask\n          : // eslint-disable-next-line @typescript-eslint/no-var-requires\n            require(\"./ViewMask\").ViewMask;\n\n      const size = maskRect && {\n        x: maskRect.width <= 4 ? 0 : maskRect.width,\n        y: maskRect.height <= 4 ? 0 : maskRect.height,\n      };\n\n      const position = maskRect;\n\n      return (\n        <MaskComponent\n          animated={animated}\n          layout={layout}\n          style={styles.overlayContainer}\n          size={size}\n          position={position}\n          easing={easing}\n          animationDuration={animationDuration}\n          backdropColor={backdropColor}\n          svgMaskPath={svgMaskPath}\n          onClick={handleMaskClick}\n          currentStep={currentStep}\n        />\n      );\n    }\n\n    function renderTooltip() {\n      if (!currentStep) {\n        return null;\n      }\n      return (\n        <>\n          <Animated.View\n            key=\"stepNumber\"\n            style={[\n              styles.stepNumberContainer,\n              {\n                left: animatedValues.stepNumberLeft,\n                top: Animated.add(animatedValues.top, -STEP_NUMBER_RADIUS),\n              },\n            ]}\n          >\n            <StepNumberComponent />\n          </Animated.View>\n\n          {!!arrowSize && (\n            <Animated.View key=\"arrow\" style={[styles.arrow, arrowStyles]} />\n          )}\n          <Animated.View\n            key=\"tooltip\"\n            style={[styles.tooltip, tooltipStyles, tooltipStyle]}\n          >\n            <TooltipComponent CustomTooltip={CustomTooltip} labels={labels} />\n          </Animated.View>\n        </>\n      );\n    }\n  }\n);\n\nconst floorify = (obj: Record<string, any>) => {\n  Object.keys(obj).forEach((key) => {\n    if (typeof obj[key] === \"number\") {\n      obj[key] = Math.floor(obj[key]);\n    }\n  });\n};\n\nconst removeNan = (obj: Record<string, any>) => {\n  Object.keys(obj).forEach((key) => {\n    if (typeof obj[key] === \"number\" && isNaN(obj[key])) {\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete obj[key];\n    }\n  });\n};\n\nconst sanitize = (obj: Record<any, any>) => {\n  floorify(obj);\n  removeNan(obj);\n};\n","import React from \"react\";\nimport { Text, TouchableOpacity, View } from \"react-native\";\n\nimport { Button } from \"./Button\";\n\nimport { styles } from \"../style\";\n\nimport type { TooltipProps } from \"../../types\";\nimport { useCopilot } from \"../../contexts/CopilotProvider\";\n\nexport const Tooltip = ({ CustomTooltip, labels }: TooltipProps) => {\n  const { goToNext, goToPrev, stop, currentStep, isFirstStep, isLastStep } =\n    useCopilot();\n\n  const handleStop = () => {\n    void stop();\n  };\n  const handleNext = () => {\n    void goToNext();\n  };\n\n  const handlePrev = () => {\n    void goToPrev();\n  };\n\n  return CustomTooltip ? (\n    <CustomTooltip\n      currentStep={currentStep?.order as number}\n      isFirstStep={isFirstStep}\n      isLastStep={isLastStep}\n      handleStop={handleStop}\n      handleSkip={handleStop}\n      handlePrev={handlePrev}\n      handleNext={handleNext}\n    />\n  ) : (\n    <View>\n      <View style={styles.tooltipContainer}>\n        <Text testID=\"stepDescription\" style={styles.tooltipText}>\n          {currentStep?.text}\n        </Text>\n      </View>\n      <View style={[styles.bottomBar]}>\n        {!isLastStep ? (\n          <TouchableOpacity onPress={handleStop}>\n            <Button>{labels.skip}</Button>\n          </TouchableOpacity>\n        ) : null}\n        {!isFirstStep ? (\n          <TouchableOpacity onPress={handlePrev}>\n            <Button>{labels.previous}</Button>\n          </TouchableOpacity>\n        ) : null}\n        {!isLastStep ? (\n          <TouchableOpacity onPress={handleNext}>\n            <Button>{labels.next}</Button>\n          </TouchableOpacity>\n        ) : (\n          <TouchableOpacity onPress={handleStop}>\n            <Button>{labels.finish}</Button>\n          </TouchableOpacity>\n        )}\n      </View>\n    </View>\n  );\n};\n","import React from \"react\";\nimport {\n  View,\n  Text,\n  type StyleProp,\n  type ViewStyle,\n  type TextStyle,\n  type TextProps,\n} from \"react-native\";\n\nimport { styles } from \"../style\";\n\ntype Props = {\n  wrapperStyle?: StyleProp<ViewStyle>;\n  style?: StyleProp<TextStyle>;\n} & Omit<TextProps, \"style\">;\n\nexport const Button = ({ wrapperStyle, style, ...rest }: Props) => (\n  <View style={[styles.button, wrapperStyle]}>\n    <Text style={[styles.buttonText, style]} {...rest} />\n  </View>\n);\n","import { useEffect, useRef, useState } from \"react\";\n\n/**\n * A hook like useState that allows you to use await the setter\n */\nexport const useStateWithAwait = <T = any>(\n  initialState: T\n): [T, (newValue: T) => Promise<void>] => {\n  const endPending = useRef(() => {});\n  const newDesiredValue = useRef(initialState);\n\n  const [state, setState] = useState(initialState);\n\n  const setStateWithAwait = async (newState: T) => {\n    const pending = new Promise<void>((resolve) => {\n      endPending.current = resolve;\n    });\n    newDesiredValue.current = newState;\n    setState(newState);\n    await pending;\n  };\n\n  useEffect(() => {\n    if (state === newDesiredValue.current) {\n      endPending.current();\n    }\n  }, [state]);\n\n  return [state, setStateWithAwait];\n};\n","import { useCallback, useMemo, useReducer, useState } from \"react\";\nimport { type Step, type StepsMap } from \"../types\";\n\ntype Action =\n  | {\n      type: \"register\";\n      step: Step;\n    }\n  | {\n      type: \"unregister\";\n      stepName: string;\n    };\n\nexport const useStepsMap = () => {\n  const [currentStep, setCurrentStepState] = useState<Step | undefined>(\n    undefined\n  );\n  const [steps, dispatch] = useReducer((state: StepsMap, action: Action) => {\n    switch (action.type) {\n      case \"register\":\n        return {\n          ...state,\n          [action.step.name]: action.step,\n        };\n      case \"unregister\": {\n        const { [action.stepName]: _, ...rest } = state;\n        return rest;\n      }\n      default:\n        return state;\n    }\n  }, {});\n\n  const orderedSteps = useMemo(\n    () => Object.values(steps).sort((a, b) => a.order - b.order),\n    [steps]\n  );\n\n  const stepIndex = useCallback(\n    (step = currentStep) =>\n      step\n        ? orderedSteps.findIndex(\n            (stepCandidate) => stepCandidate.order === step.order\n          )\n        : -1,\n    [currentStep, orderedSteps]\n  );\n\n  const currentStepNumber = useMemo(\n    (step = currentStep) => stepIndex(step) + 1,\n    [currentStep, stepIndex]\n  );\n\n  const getFirstStep = useCallback(() => orderedSteps[0], [orderedSteps]);\n\n  const getLastStep = useCallback(\n    () => orderedSteps[orderedSteps.length - 1],\n    [orderedSteps]\n  );\n\n  const getPrevStep = useCallback(\n    (step = currentStep) => step && orderedSteps[stepIndex(step) - 1],\n    [currentStep, stepIndex, orderedSteps]\n  );\n\n  const getNextStep = useCallback(\n    (step = currentStep) => step && orderedSteps[stepIndex(step) + 1],\n    [currentStep, stepIndex, orderedSteps]\n  );\n\n  const getNthStep = useCallback(\n    (n: number) => orderedSteps[n - 1],\n    [orderedSteps]\n  );\n\n  const isFirstStep = useMemo(\n    () => currentStep === getFirstStep(),\n    [currentStep, getFirstStep]\n  );\n\n  const isLastStep = useMemo(\n    () => currentStep === getLastStep(),\n    [currentStep, getLastStep]\n  );\n\n  const registerStep = useCallback((step: Step) => {\n    dispatch({ type: \"register\", step });\n  }, []);\n\n  const unregisterStep = useCallback((stepName: string) => {\n    dispatch({ type: \"unregister\", stepName });\n  }, []);\n\n  return {\n    currentStepNumber,\n    getFirstStep,\n    getLastStep,\n    getPrevStep,\n    getNextStep,\n    getNthStep,\n    isFirstStep,\n    isLastStep,\n    currentStep,\n    setCurrentStepState,\n    steps,\n    registerStep,\n    unregisterStep,\n  };\n};\n","import React, { type FunctionComponent } from \"react\";\nimport { type NativeMethods } from \"react-native/types\";\n\ntype PropsWithCopilot<P> = P & {\n  copilot: {\n    ref?: React.RefObject<NativeMethods>;\n    onLayout?: () => void;\n  };\n};\n\nexport function walkthroughable<P = any>(\n  WrappedComponent: React.ComponentType<P>\n) {\n  const Component: FunctionComponent<PropsWithCopilot<P>> = ({\n    copilot,\n    ...props\n  }) => <WrappedComponent {...(copilot as any)} {...props} />;\n\n  Component.displayName = \"Walkthroughable\";\n\n  return Component;\n}\n","import React, { useEffect, useMemo, useRef } from \"react\";\nimport { View, type NativeMethods } from \"react-native\";\n\nimport { useCopilot } from \"../contexts/CopilotProvider\";\n\ninterface Props {\n  name: string;\n  order: number | number[];\n  text: string;\n  children?: React.ReactElement<any>;\n  active?: boolean;\n}\n\nexport const CopilotStep = ({\n  name,\n  order,\n  text,\n  children,\n  active = true,\n}: Props) => {\n  const registeredName = useRef<string | null>(null);\n  const { registerStep, unregisterStep } = useCopilot();\n\n  const wrapperRef = React.useRef<NativeMethods | null>(null);\n\n  const measure = async () => {\n    return await new Promise<{\n      x: number;\n      y: number;\n      width: number;\n      height: number;\n    }>((resolve) => {\n      const measure = () => {\n        // Wait until the wrapper element appears\n        if (!children) {\n          resolve({\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0,\n          });\n        }\n\n        if (wrapperRef.current != null && \"measure\" in wrapperRef.current) {\n          wrapperRef.current.measure((_ox, _oy, width, height, x, y) => {\n            resolve({\n              x,\n              y,\n              width,\n              height,\n            });\n          });\n        } else {\n          requestAnimationFrame(measure);\n        }\n      };\n\n      measure();\n    });\n  };\n\n  useEffect(() => {\n    if (active) {\n      if (registeredName.current && registeredName.current !== name) {\n        unregisterStep(registeredName.current);\n      }\n\n      if (order instanceof Array) {\n        order.forEach((order) => {\n          registerStep({\n            name: `name-${order}`,\n            text,\n            order,\n            measure,\n            wrapperRef,\n            visible: true,\n          });\n        });\n      } else {\n        registerStep({\n          name,\n          text,\n          order,\n          measure,\n          wrapperRef,\n          visible: true,\n        });\n      }\n\n      registeredName.current = name;\n    }\n  }, [name, order, text, registerStep, unregisterStep, active]);\n\n  useEffect(() => {\n    if (active) {\n      return () => {\n        if (registeredName.current) {\n          unregisterStep(registeredName.current);\n        }\n      };\n    }\n  }, [name, unregisterStep, active]);\n\n  const copilotProps = useMemo(\n    () => ({\n      ref: wrapperRef,\n      onLayout: () => {}, // Android hack\n    }),\n    []\n  );\n\n  return children\n    ? React.cloneElement(children, { copilot: copilotProps })\n    : React.cloneElement(<View />, { copilot: copilotProps });\n};\n"],"mappings":"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","names":["import_react_native","Svg","import_react","import_react_native","import_react_native","import_react","import_react_native","import_react","import_react_native","import_react_native","import_react_native","CopilotModal","windowDimensions","import_react","import_react","mitt","_a","currentStep","import_react","import_react_native","React","measure","order"]}